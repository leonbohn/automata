[workspace]
members = [".", "automata-derive", "automata-core"]

[workspace.package]
version = "0.1.0"
license = "MIT or Apache-2.0"
edition = "2021"
description = "A library concerned with transition systems and automata for both finite and infinite words."
homepage = "https://github.com/leonbohn/automata"
repository = "https://github.com/leonbohn/automata"
authors = ["Le√≥n Bohn <bohn@lics.rwth-aachen.de>"]

[package]
name = "automata"
description = "A library concerned with transition systems and automata for both finite and infinite words."
keywords = [
    "omega-automata",
    "transition-system",
    "language",
    "hoa",
    "automata",
]
categories = ["mathematics", "science"]
readme = "README.md"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
homepage.workspace = true
repository.workspace = true

[features]
default = ["hoa", "graphviz", "random", "minimize", "petgraph"]
random = ["fastrand"]
minimize = []
hoa = ["dep:hoars", "biodivine-lib-bdd"]
graphviz = ["dep:tempfile"]
oai-bin = ["clap"]
linked_list_ts = []
petgraph = ["dep:petgraph"]

[workspace.dependencies]
automata-derive = { version = "=0.1", path = "automata-derive" }
automata-core = { version = "=0.1", path = "automata-core" }
thiserror = "1.0.61"
tracing = "0.1"
tracing-subscriber = "0.3"
itertools = "0.13.0"
tabled = { version = "0.15", features = ["ansi"] }
bit-set = "0.5"
bimap = "0.6"
indexmap = "2.2"
paste = "1.0"
owo-colors = "4.0"

[dependencies]
automata-derive = { workspace = true }
automata-core = { workspace = true }
thiserror = { workspace = true }
tracing = { workspace = true }
tracing-subscriber = { workspace = true }
itertools = { workspace = true }
tabled = { workspace = true }
bit-set = { workspace = true }
bimap = { workspace = true }
indexmap = { workspace = true }
paste = { workspace = true }
owo-colors = { workspace = true }

tempfile = { version = "3.10", optional = true }
biodivine-lib-bdd = { version = "0.5", optional = true }
fastrand = { version = "2", optional = true }
hoars = { version = "0.2", optional = true }
clap = { version = "4.5", optional = true }
petgraph = { version = "0.6.5", optional = true, default-features = false, features = [
    "stable_graph",
] }
test-log = { version = "0.2", features = ["trace"] }


[dev-dependencies]
lazy_static = "1.4"
criterion = { version = "0.5", features = ["html_reports"] }
# iai = { git = "https://github.com/sigaloid/iai", rev = "6c83e942" }

[[bench]]
name = "ts"
harness = false

[[bin]]
name = "oai"
path = "bin/oai.rs"
required-features = ["oai-bin"]
